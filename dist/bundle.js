!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return RenderingEngine}));var _directiveDefinitions_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);class RenderingEngine{constructor(e){null==e&&console.log("Engine was initialized without a state"),this.state=e,this.directives=new _directiveDefinitions_js__WEBPACK_IMPORTED_MODULE_0__.a}indexDOM(){if(void 0!==this.state.element){var e=null;if(this.state.element.startsWith("#")){var t=this.state.element.substr(1);e=document.getElementById(t)}else e=document.getElementsByTagName(this.state.element);if(null==e)return void console.error("No element with selector: "+this.state.element+" has been found");if(e instanceof HTMLCollection&&e.length>1)return void console.error("Multiple choices, try using id if the element tag is not unique. Your Selector was: "+this.state.element);if(e instanceof HTMLCollection&&0===e.length)return void console.error("No element with selector: "+this.state.element+" has been found");e instanceof HTMLCollection&&(e=e[0]);var n=this.indexElement(e);for(var r of n)this.executeDirectivesOnElement(r,!0);this.executeInerpolationsOnElement(e)}}insert(e,t,n){return e>0?n.substring(0,e)+t+n.substring(e,n.length):t+n}setTitle(){void 0===this.state.data.title&&null!==this.state.data.title||(document.title=this.state.data.title)}elementCanGetAttribute(e){return"getAttribute"in e}isNForActivated(e){return!!this.elementCanGetAttribute(e)&&null!==e.getAttribute("n-for")}disableInterpolationForVariableNameOnElement(e,t){if(void 0!==e&&void 0!==t){for(var n of this.state.disabledElements)if(n[0]==e&&n[1]==t)return;this.state.disabledElements.push([e,t])}}getElementDerrivedObject(e){return"object"}getElementDerrivedProperty(e){return"property"}getForArrayByStatement(e){return e.split(" ").last}isForAttribute(e){return"getAttribute"in(e=e[0])&&null!==e.getAttribute("n-for")}isActiveElement(e){return this.getElementDirectives(e).length>0}removePrefix(e){return e.substring(2)}prefixDiretive(e){return"n-"+e}getElementDirectives(e){if(void 0===e)return[];var t=[];for(var n of this.directives.directives)n=this.prefixDiretive(n),"hasAttribute"in e&&e.hasAttribute(n)&&t.push(n);return t}indexElement(e){this.state.disableElementIfNeeded(e);var t=[];for(var n of e.childNodes){var r=this.indexElement(n);t.push.apply(t,r)}return this.isActiveElement(e)&&t.push(e),t}getElementAttributeForDirective(e,t){return t=this.prefixDiretive(t),e.hasAttribute(t)?e.getAttribute(t):(console.warn("directive: "+t+" not found on element: "+e),"")}executeDirectivesOnElement(e,t){var n=this.getElementDirectives(e);for(var r of n)if((r=this.removePrefix(r))in this.directives){this.directives[r](e,this.getElementAttributeForDirective(e,r),this.state);n=this.getElementDirectives(e);if(t)for(var i of n)this.state.addActiveDirectiveElement(i,e.getAttribute(i),e)}else console.warn("not found directive: "+r)}stripAndTrimNForInterpolation(e){return e=(e=(e=e.replace("[[[","")).replace("]]]","")).trim()}getNForInterpolations(e){var t=[],n=(e=e.trim()).match(/\[\[\[(( +)?\w+.?\w+( +)?)\]\]\]/g);if(null===n)return t;for(var r of n)t.push(r);return t}getNForInterpolation(e){return(e=e.trim()).match(/\[\[\[(( +)?\w+.?\w+( +)?)\]\]\]/g)?e=this.stripAndTrimNForInterpolation(e):(console.warn("Not found interpolation in submitted value: "+e),e)}getValueOfInterpolation(interpolation){if(interpolation=interpolation.trim(),!interpolation.match(/{{(.?\s?\w?.?\w\s?)+}}/g))return console.warn("Not found interpolation in submitted value: "+interpolation),interpolation;interpolation=this.stripAndTrimInterpolation(interpolation),interpolation=interpolation.trim();var stripped=this.stripAndTrimInterpolation(interpolation),args=stripped.split(".");for(var arg of(stripped="",args))stripped+=arg+".";return stripped=stripped.substring(0,stripped.length-1),void 0===this.state.data[stripped.split(".")[0]]?"undefined":eval("this.state.data."+stripped)}removeWhiteSpaceFromString(e){return e.replace(/\s/g,"")}stripAndTrimInterpolation(e){return void 0===e||null===typeof e?e:e=(e=(e=e.replace("{{","")).replace("}}","")).trim()}getInterpolationsFortextContent(e){var t=[];if(null==e)return t;var n=e.match(/{{(.?\s?\w?.?\w\s?)+}}/g);if(null===n)return[];for(var r of n)t.push(r);return t}getObjectReferenceByInterpolationName(e){return e=this.stripAndTrimInterpolation(e),this.state.data[e]}interpolateOnTextWithState(e,t){}getContentOfNodeIfTextNodeExists(e){if(3===e.nodeType)return e.nodeValue;if(0===e.childNodes.length)return null;if(this.nodeHasTextNodeAsADirectChild(e))for(var t of e.childNodes)if(null!==this.getContentOfNodeIfTextNodeExists(t))return this.getContentOfNodeIfTextNodeExists(t)}setContentOfTextNode(e,t){return 3!==e.nodeType?(console.error("setContentOfTextNode... this implies that you *HAVE* to provide nothing else than a textNode as argument."),!1):(e.nodeValue=t,!0)}updateInterpolatedElement(e,t){this.executeDirectivesOnElement(e,!1);var n=this.getInterpolationsFortextContent(t);if(0!==n.length){var r=t;for(var i of n){var o=this.getValueOfInterpolation(i);this.isElementDisabled(this.stripAndTrimInterpolation(i),e)||(r=r.replace(i,o))}e.textContent=r}}isDescendant(e,t){for(var n=t.parentNode;null!=n;){if(n==e)return!0;n=n.parentNode}return!1}isElementDisabled(e,t){for(var n of this.state.disabledElements){if((this.isDescendant(t,n[1])||this.isDescendant(n[1],t))&&e.includes(n[0]))return!0;if(n[0]===e&&n[1]===t)return!0}return!1}interpolateElement(e,t){for(var n of t){this.state.disableElementIfNeeded(e);var r=this.getValueOfInterpolation(n);if(!this.isElementDisabled(this.stripAndTrimInterpolation(n).trim(),e)){var i=e.textContent||e.textContent;i=i.replace(n,r),"textContent"in e?e.textContent=i:"textContent"in e&&(e.textContent=i)}}return e}nodeHasTextNodeAsAChild(e){return 3===e.nodeType||0!==e.childNodes.length&&this.nodeHasTextNodeAsAChild(e)}nodeHasTextNodeAsADirectChild(e){for(var t of e.childNodes)if(3===t.nodeType)return!0;return!1}isTextNode(e){return 3===e.nodeType}sanitize(e){if("string"!=typeof e)return e;var t=document.createElement("div");return t.textContent=e,t.innerHTML}executeInerpolationsOnElement(e){for(var t of e.childNodes)this.executeInerpolationsOnElement(t);var n=this.getInterpolationsFortextContent(e.nodeValue);if(this.isTextNode(e)){if(0===n.length)return;if(3!==e.nodeType)return;for(var r of n)this.state.addActiveElement(e,this.getObjectReferenceByInterpolationName(r),e.nodeValue,r);this.interpolateElement(e,n)}else{if(!this.isNForActivated(e))return;r="{{"+e.getAttribute("n-for").split(" ")[3]+"}}";this.state.addActiveElement(e,e.getAttribute("n-for").split(" ")[3],null,r)}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return NailsDirectives}));var _engine__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);class NailsDirectives{constructor(){this.directives=["if","form","for","test"]}form(e,t,n){"text"===e.getAttribute("type")&&n.data[t]!==e.value&&(n.data[t]=e.value),e.addEventListener("input",(function(){n.data[t]!==e.value&&(n.data[t]=e.value)}))}for(element,statemenet,state){var engine=new _engine__WEBPACK_IMPORTED_MODULE_0__.a(state);function interpolateCustomElement(element,object,descriptor){var html=element.innerHTML,interpolations=engine.getInterpolationsFortextContent(html);for(var interpolation of interpolations){var stripped=engine.stripAndTrimInterpolation(interpolation),args=stripped.split(".");for(var arg of(args[0]="",stripped="",args))stripped+=arg+".";stripped=stripped.substring(0,stripped.length-1),"undefined"!==engine.getValueOfInterpolation(interpolation)?html=html.replace(interpolation,engine.getValueOfInterpolation(interpolation)):(console.log("interpolation inside"),html=html.replace(interpolation,engine.sanitize(eval("object"+stripped))))}element.innerHTML=html}element.style.display="none";var descriptor=statemenet.split(" ")[1],arr=statemenet.split(" ")[3],refArray=eval("state.data."+arr);if(null!=refArray){var parent=element.parentNode;for(var i of(parent.childNodes.length>5&&(console.log("State change?"),console.log(parent.childNodes.length)),refArray)){var child=document.createElement(element.nodeName);for(var i of(child.innerHTML=element.innerHTML,interpolateCustomElement(child,i,descriptor),parent.appendChild(child),element.attributes))"n-for"!==i.name&&"style"!==i.name&&child.setAttribute(i.name,i.value);engine.executeDirectivesOnElement(child,!0)}}}if(element,statement,state){var reversed=!1;"!"===statement[0]&&(statement=statement.substring(1),reversed=!0),state.data.hasOwnProperty(statement)?reversed?eval(state.data[statement])?element.style.display="none":element.style.display="block":eval(state.data[statement])?element.style.display="block":element.style.display="none":console.warn("statement: "+statement+" not found in context")}}},function(e,t){t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,s=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),l=r[n];n<o;l=r[++n])m(l)||!w(l)?s+=" "+l:s+=" "+a(l);return s},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,s={};function a(e,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&t._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=l),c(r,e,r.depth)}function l(e,t){var n=a.styles[t];return n?"["+a.colors[n][0]+"m"+e+"["+a.colors[n][1]+"m":e}function u(e,t){return e}function c(e,n,r){if(e.customInspect&&n&&O(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return v(i)||(i=c(e,i,r)),i}var o=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(v(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(g(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,n);if(o)return o;var s=Object.keys(n),a=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(n)),x(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return p(n);if(0===s.length){if(O(n)){var l=n.name?": "+n.name:"";return e.stylize("[Function"+l+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(E(n))return e.stylize(Date.prototype.toString.call(n),"date");if(x(n))return p(n)}var u,w="",_=!1,T=["{","}"];(d(n)&&(_=!0,T=["[","]"]),O(n))&&(w=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(w=" "+RegExp.prototype.toString.call(n)),E(n)&&(w=" "+Date.prototype.toUTCString.call(n)),x(n)&&(w=" "+p(n)),0!==s.length||_&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),u=_?function(e,t,n,r,i){for(var o=[],s=0,a=t.length;s<a;++s)N(t,String(s))?o.push(f(e,t,n,r,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(f(e,t,n,r,i,!0))})),o}(e,n,r,a,s):s.map((function(t){return f(e,n,r,a,t,_)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(u,w,T)):T[0]+w+T[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,i,o){var s,a,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(a=e.stylize("[Setter]","special")),N(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(l.value)<0?(a=m(n)?c(e,l.value,null):c(e,l.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),y(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function d(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function m(e){return null===e}function g(e){return"number"==typeof e}function v(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return w(e)&&"[object RegExp]"===_(e)}function w(e){return"object"==typeof e&&null!==e}function E(e){return w(e)&&"[object Date]"===_(e)}function x(e){return w(e)&&("[object Error]"===_(e)||e instanceof Error)}function O(e){return"function"==typeof e}function _(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(y(o)&&(o=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!s[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=e.pid;s[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else s[n]=function(){};return s[n]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=h,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=b,t.isObject=w,t.isDate=E,t.isError=x,t.isFunction=O,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(5);var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function j(){var e=new Date,t=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":");return[e.getDate(),A[e.getMonth()],t].join(" ")}function N(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",j(),t.format.apply(t,arguments))},t.inherits=n(6),t._extend=function(e,t){if(!t||!w(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var D="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function C(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(D&&e[D]){var t;if("function"!=typeof(t=e[D]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,D,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),D&&Object.defineProperty(t,D,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=D,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};t.apply(this,n).then((function(t){e.nextTick(s,null,t)}),(function(t){e.nextTick(C,t,s)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(4))},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var l,u=[],c=!1,p=-1;function f(){c&&l&&(c=!1,l.length?u=l.concat(u):p=-1,u.length&&d())}function d(){if(!c){var e=a(f);c=!0;for(var t=u.length;t;){for(l=u,u=[];++p<t;)l&&l[p].run();p=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||c||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";n.r(t);class r{constructor(){}greet(e){return"Hi, "+e}}class i{constructor(e){this.state=e,this.selector="login",this.i=0,this.greeter=this.state.injector.resolve(r)}incrementCounter(){return this.i++,this.i}render(){return`\n        <div>\n          <input type="text" placeholder="Username ">\n          <input type="text" placeholder="Username">\n          ${this.greeter.greet("Dominic")}\n        </div>\n      `}}class o{constructor(e){this.state=e;var t=this;this.selector="yield",this.hashRoute=window.location.hash.replace("#/",""),this.engine=e.componentEngine,window.onhashchange=function(){void 0!==t.engine&&void 0!==t.engine&&(t.hashRoute=window.location.hash.replace("#/",""),t.engine.recreateComponentsByName("yield"))}}isFunction(e){return e&&"[object Function]"==={}.toString.call(e)}addRoutings(e){this.routings=e}getComponent(){if(console.log(this.routings),void 0===this.routings)return"div";for(var e of this.routings){if(e.route===this.hashRoute)return this.isFunction(e.guard)?e.guard(this)?new e.component(this.state).selector:"div":new e.component(this.state).selector}}navigate(e){window.location.hash="/"+e.replace("/","")}render(){return`\n            <${this.getComponent()}></${this.getComponent()}>\n        `}}var s=n(0);n(2),n(3);class a{constructor(e,t,n,r){this.state=e,this.engine=t,this.instance=this,this.nails=n,this.routings=r}getInstance(){return this.instance}injectComponents(){if(!Array.isArray(this.state.mountedComponents)){this.state.mountedComponents=[];for(let e of this.state.components){console.log("state is "+typeof this.state);let t=new e(this.state);t instanceof o&&(this.state.router=t,t.addRoutings(this.routings),t.navigate("")),this.state.mountedComponents.push(t)}}}traveseElementAndExecuteDirectives(e){if(e){if(e.childNodes.length>0)for(let t of e.childNodes)this.traveseElementAndExecuteDirectives(t);this.engine.executeDirectivesOnElement(e,!0)}}renderComponents(){if(this.injectComponents(),void 0!==this.state.mountedComponents&&null!==this.state.mountedComponents&&this.state.mountedComponents.length>0)for(let i=0;i<300;i++){let i,o=document.body.innerHTML;for(var e of this.state.mountedComponents){var t=document.getElementsByTagName(e.selector);if(0!==t.length){for(var n of t)if(!(n.childNodes.length>0)){var r=e.render();r.includes("<"+e.selector+">")||(n.innerHTML=r,this.traveseElementAndExecuteDirectives(n),this.engine.executeInerpolationsOnElement(n))}i=document.body.innerHTML}}if(o==i)break}}recreateComponentsByName(e){if(void 0!==this.state.mountedComponents&&null!==this.state.mountedComponents){var t=null;for(var n of this.state.mountedComponents)n.selector===e&&(t=n);if(null===t)return;if(null===this.state.mountedComponents[e])return;var r=document.getElementsByTagName(e);for(var i of r){var o=t.render();o.includes("<"+t.selector+">")?console.error("component "+t.selector+" has a recursion with no exit condition"):(i.innerHTML=o,this.renderComponents())}}}recreateAllComponents(){this.renderComponents()}}class l{getInstance(){return null===this.instance&&(this.instance=new l),this.instance}constructor(){this.data={},this.activeElements=[],this.activeDirectiveElements=[],this.engine=new s.a(this),this.disabledElements=[],this.componentEngine=new a(this,this.engine)}addInjector(e){this.injector=e}addActiveDirectiveElement(e,t,n){for(var r of this.activeDirectiveElements)if(r.key===e&&r.statement===t&&r.element===n)return void console.warn("refusing to insert element");this.activeDirectiveElements.push({key:e,statement:t,element:n})}updateElementRefByObject(e,t){for(var n of this.activeElements)n[1]===e&&(n[0]=t)}addActiveElement(e,t,n,r){this.activeElements.push([e,t,n,r])}findElementByRef(e){for(var t of this.activeElements)if(t[0]===e)return t}getHtmlReferenceOfStateElement(e){return e[0]}stripAndTrimInterpolation(e){return"string"!=typeof e?e:e=(e=(e=e.replace("{{","")).replace("}}","")).trim()}disableElementIfNeeded(e){if("getAttribute"in e){var t=e.getAttribute("n-for");if(null===t)return;var n=t.split(" ")[1];this.engine.disableInterpolationForVariableNameOnElement(n,e)}}findElementsByObject(e,t){var n=[];for(var r of this.activeElements)this.stripAndTrimInterpolation(r[3])===t&&n.push(r);for(var r of this.activeDirectiveElements)t=t.replace("!",""),r.statement=r.statement.replace("!",""),this.stripAndTrimInterpolation(r.statement)===t&&n.push(r);return n}}class u{constructor(e){this.state=e,this.bootstrap()}bootstrap(){Array.isArray(this.state.injectors)||(this.state.injectors=[])}insert(e){for(var t of this.state.injectors)if(t instanceof e)return;this.state.injectors.push(e)}resolve(e){for(var t of this.state.injectors)if(t instanceof e)return t}}class c{constructor(e){this.selector="showcase"}render(){return'\n        <div class="yield">\n            <p>Hi, this is a template rendered with the router</p>\n            {{whoami}}\n            <p>below is a table</p>\n            <table style="width:100%">\n                <tr>\n                    <th>Firstname</th>\n                    <th>Lastname</th>\n                    <th>Age</th>\n                </tr>\n                <tr n-for="let object of sample">\n                    <td>{{object.name}}</td>\n                    <td>{{object.lastname}}</td>\n                    <td>{{whoami}}</td>\n                </tr>\n  \n            </table>\n        </div>'}}window.nails=new class{constructor(e){void 0!==e.methods.onInit&&e.methods.onInit(),this.state=new l,console.log("NailsJS Created with constructor object: "+JSON.stringify(e)),e.hasOwnProperty("el")?this.state.element=e.el:console.error("NailsJS cannot be initalized, because no element was specified"),e.hasOwnProperty("data")&&(this.state.data=e.data),e.hasOwnProperty("methods")&&(this.state.methods=e.methods),this.state.components=e.components,this.engine=new s.a(this.state),this.componentEngine=new a(this.state,this.engine,this,e.routings),this.setUpProxy(),this.injector=new u(this.state),this.prepareInjector(e.declarations),this.state.addInjector(this.injector),this.componentEngine.renderComponents(),this.engine.indexDOM(),this.engine.setTitle(),window.injector=this.injector,this.state.methods.getState=function(){return this.state},void 0!==this.state.methods.onMounted&&this.state.methods.onMounted(this.state)}prepareInjector(e){if(Array.isArray(e))for(var t of e){let e=new t;this.injector.insert(e)}else console.warn("Cannot iterate over declarations, since they are not an array")}notifyDOM(e,t,n){var r=this.state.findElementsByObject(e,t);if(r!==[]&&0!==r.length){for(var i of r)i.hasOwnProperty("key")?this.engine.executeDirectivesOnElement(i.element,!1):(this.engine.updateInterpolatedElement(i[0],i[2]),this.engine.executeDirectivesOnElement(i,!1));return!0}}setUpProxy(){var e={state:this.state,notifyDom:this.notifyDOM,engine:this.engine,get:function(e,t,n){return e[t]},set(e,t,n){return e[t]=n,this.notifyDom(e,t),!0}},t=new Proxy(this.state.data,e);this.state.data=t}}({el:"body",data:{title:"Your Nails App",whoami:"NailsJS",sample:[{name:"Jill",lastname:"smith"},{name:"Ingo",lastname:"Meyers"}]},methods:{onInit(){},onMounted(e){e.data.headers=[{Test:"Value"}]}},components:[i,o,c,class{constructor(e){this.state=e,this.selector="nailsnav"}render(){return'\n        <nav class="navbar navbar-expand-lg py-3 navbar-dark bg-dark shadow-sm">\n        <div class="container">\n          <a href="#" class="navbar-brand">\n            \x3c!-- Logo Image --\x3e\n            <img src="https://res.cloudinary.com/mhmd/image/upload/v1557368579/logo_iqjuay.png" width="45" alt="" class="d-inline-block align-middle mr-2">\n            \x3c!-- Logo Text --\x3e\n            <span class="text-uppercase font-weight-bold">{{whoami}}</span>\n          </a>\n      \n          <button type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler"><span class="navbar-toggler-icon"></span></button>\n      \n          <div id="navbarSupportedContent" class="collapse navbar-collapse">\n            <ul class="navbar-nav ml-auto">\n              <li class="nav-item active"><a href="#" class="nav-link">Home <span class="sr-only">(current)</span></a></li>\n              <li class="nav-item"><a href="#/login" class="nav-link">Login</a></li>\n              <li class="nav-item"><a href="#/showcase" class="nav-link">Other Routing</a></li>\n              <li class="nav-item"><a href="#" class="nav-link">Contact</a></li>\n            </ul>\n          </div>\n        </div>\n      </nav>\n      '}}],routings:[{component:i,route:"login"},{component:i,route:"lappe",guard:function(){return null!==localStorage.getItem("jwt")}},{component:c,route:"showcase"}],declarations:[r]})}]);